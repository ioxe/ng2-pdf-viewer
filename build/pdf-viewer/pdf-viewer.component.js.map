{"version":3,"sources":["../../src/pdf-viewer/pdf-viewer.component.ts"],"names":[],"mappings":"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","file":"pdf-viewer.component.js","sourceRoot":"","sourcesContent":["/**\n * Created by vadimdez on 21/06/16.\n */\nimport {\n  Component, Input, Output, ElementRef, EventEmitter, OnChanges, SimpleChanges\n} from '@angular/core';\nimport 'pdfjs-dist/build/pdf.combined';\nimport { Content } from 'ionic-angular';\n\nPDFJS.verbosity = (<any>PDFJS).VERBOSITY_LEVELS.errors;\n\ndeclare var Hammer: any;\n\n\n\nexport class PdfViewerComponent implements OnChanges {\n  private _showAll: boolean = false;\n  private _renderText: boolean = true;\n  private _originalSize: boolean = true;\n  private _pdf: PDFDocumentProxy;\n  private _page: number = 1;\n  private _zoom: number = 1;\n  private _rotation: number = 0;\n  private _pinchZoom: boolean;\n  private _touchPan: boolean;\n  private resizeTimeout: NodeJS.Timer;\n\n   afterLoadComplete = new EventEmitter<PDFDocumentProxy>();\n   onError = new EventEmitter<any>();\n   onProgress = new EventEmitter<PDFProgressData>();\n\n  constructor(private element: ElementRef, private content: Content) { console.log('ok'); }\n\n  \n  src: string | Uint8Array | PDFSource;\n\n  \n  set page(_page) {\n    _page = parseInt(_page, 10);\n\n    if (this._pdf && !this.isValidPageNumber(_page)) {\n      _page = 1;\n    }\n\n    this._page = _page;\n    this.pageChange.emit(_page);\n  }\n\n   pageChange: EventEmitter<number> = new EventEmitter<number>(true);\n\n  \n  set renderText(renderText: boolean) {\n    this._renderText = renderText;\n  }\n\n  \n  set originalSize(originalSize: boolean) {\n    this._originalSize = originalSize;\n  }\n\n  \n  set showAll(value: boolean) {\n    this._showAll = value;\n  }\n\n  \n  set zoom(value: number) {\n    if (value <= 0) {\n      return;\n    }\n\n    this._zoom = value;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  \n  set rotation(value: number) {\n    if (!(typeof value === 'number' && value % 90 === 0)) {\n      console.warn('Invalid pages rotation angle.');\n      return;\n    }\n\n    this._rotation = value;\n  }\n\n  \n  set pinchZoom(value: boolean) {\n    this._pinchZoom = value;\n  }\n\n  \n  set touchPan(value: boolean) {\n    this._touchPan = value;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('src' in changes) {\n      this.loadPDF();\n    } else if (this._pdf) {\n      this.update();\n    }\n  }\n\n  public onPageResize() {\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n    }\n\n    this.resizeTimeout = setTimeout(() => {\n      this.render();\n    }, 100);\n  }\n\n  private loadPDF() {\n    if (!this.src) {\n      return;\n    }\n\n    let loadingTask: any = PDFJS.getDocument(this.src as any);\n\n    loadingTask.onProgress = (progressData: PDFProgressData) => {\n      this.onProgress.emit(progressData);\n    };\n\n    (<PDFPromise<PDFDocumentProxy>>loadingTask.promise)\n      .then(pdf => {\n        this._pdf = pdf;\n\n        this.afterLoadComplete.emit(pdf);\n\n        this.update();\n      }, (error: any) => {\n        this.onError.emit(error);\n      });\n  }\n\n  private update() {\n    this.page = this._page;\n\n    this.render();\n  }\n\n  private render() {\n    if (!this._showAll) {\n      this.renderPage(this._page).then(_ => {\n        if (this._pinchZoom || this._touchPan) {\n          let page = document.querySelector('.page');\n          this.setTouchHandlers(page as any, this.content);\n        }\n      });\n    } else {\n      this.renderMultiplePages();\n    }\n  }\n\n  private renderMultiplePages() {\n    let container = this.element.nativeElement.querySelector('div');\n\n    this.removeAllChildNodes(container);\n\n    // render pages synchronously\n    const render = (page: number) => {\n      this.renderPage(page).then(() => {\n        if (page < this._pdf.numPages) {\n          render(page + 1);\n        }\n      });\n    };\n\n    render(1);\n  }\n\n  private isValidPageNumber(page: number): boolean {\n    return this._pdf.numPages >= page && page >= 1;\n  }\n\n  // private renderPage(pageNumber: number): PDFPromise<void> {\n\n  // return this._pdf.getPage(pageNumber).then((page: PDFPageProxy) => {\n  //   let viewport = page.getViewport(this._zoom, this._rotation);\n  //   let container = this.element.nativeElement.querySelector('div');\n\n  //   if (!this._originalSize) {\n  //     viewport = page.getViewport(this.element.nativeElement.offsetWidth / viewport.width, this._rotation);\n  //   }\n\n  //   if (!this._showAll) {\n  //     this.removeAllChildNodes(container);\n  //   }\n\n  // return (<any>page).getOperatorList().then(function (opList) {\n  //   let svgGfx = new (<any>PDFJS).SVGGraphics((<any>page).commonObjs, (<any>page).objs);\n\n  //   return svgGfx.getSVG(opList, viewport).then(function (svg) {\n  //     let $div = document.createElement('div');\n\n  //     $div.classList.add('page');\n  //     $div.setAttribute('data-page-number', `${page.pageNumber}`);\n\n  //     $div.appendChild(svg);\n  //     container.appendChild($div);\n  //   });\n  // });\n  // });\n  // }\n\n  private renderPage(pageNumber: number) {\n    return this._pdf.getPage(pageNumber).then(page => {\n      var viewport = page.getViewport(this._zoom, this._rotation);\n      var container = this.element.nativeElement.querySelector('div');\n      var canvas = document.createElement('canvas');\n      var div = document.createElement('div');\n      if (!this._originalSize) {\n        viewport = page.getViewport(this.element.nativeElement.offsetWidth / viewport.width, this._rotation);\n      }\n      if (!this._showAll) {\n        this.removeAllChildNodes(container);\n      }\n\n      // SVG rendering by PDF.js\n      var context = canvas.getContext('2d');\n      let outputScale = this.getOutputScale(context);\n      outputScale.sx *= viewport.width / viewport.width;\n      outputScale.sy *= viewport.height / viewport.height;\n      outputScale.scaled = true;\n      context.scale(5, 5);\n      let sfx = this.approximateFraction(outputScale.sx);\n      let sfy = this.approximateFraction(outputScale.sy);\n\n      canvas.width = this.roundToDivide(viewport.width * outputScale.sx, sfx[0]);\n      canvas.height = this.roundToDivide(viewport.height * outputScale.sy, sfy[0]);\n      canvas.style.width = this.roundToDivide(viewport.width, sfx[1]) + 'px';\n      canvas.style.height = this.roundToDivide(viewport.height, sfy[1]) + 'px';\n      canvas.setAttribute('pinchzoom', '');\n      container.appendChild(canvas);\n      container.style.width = viewport.width;\n      container.style.height = viewport.height;\n      container.appendChild(div);\n      // Rendering area\n      let transform = !outputScale.scaled ? null :\n        [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n      let renderContext = {\n        canvasContext: context,\n        transform,\n        viewport: viewport\n      };\n      return page.render(renderContext);\n    });\n  }\n\n  private roundToDivide(x, div) {\n    let r = x % div;\n    return r === 0 ? x : Math.round(x - r + div);\n  }\n\n  private approximateFraction(x) {\n    // Fast paths for int numbers or their inversions.\n    if (Math.floor(x) === x) {\n      return [x, 1];\n    }\n    let xinv = 1 / x;\n    let limit = 8;\n    if (xinv > limit) {\n      return [1, limit];\n    } else if (Math.floor(xinv) === xinv) {\n      return [1, xinv];\n    }\n\n    let x_ = x > 1 ? xinv : x;\n    // a/b and c/d are neighbours in Farey sequence.\n    let a = 0, b = 1, c = 1, d = 1;\n    // Limiting search to order 8.\n    while (true) {\n      // Generating next term in sequence (order of q).\n      let p = a + c, q = b + d;\n      if (q > limit) {\n        break;\n      }\n      if (x_ <= p / q) {\n        c = p; d = q;\n      } else {\n        a = p; b = q;\n      }\n    }\n    let result;\n    // Select closest of the neighbours to x.\n    if (x_ - a / b < c / d - x_) {\n      result = x_ === x ? [a, b] : [b, a];\n    } else {\n      result = x_ === x ? [c, d] : [d, c];\n    }\n    return result;\n  }\n\n  getOutputScale(ctx) {\n    let devicePixelRatio = window.devicePixelRatio || 1;\n    let backingStoreRatio = ctx.webkitBackingStorePixelRatio ||\n      ctx.mozBackingStorePixelRatio ||\n      ctx.msBackingStorePixelRatio ||\n      ctx.oBackingStorePixelRatio ||\n      ctx.backingStorePixelRatio || 1;\n    let pixelRatio = devicePixelRatio / backingStoreRatio;\n    return {\n      sx: pixelRatio,\n      sy: pixelRatio,\n      scaled: pixelRatio !== 1,\n    };\n  }\n\n\n\n\n  private removeAllChildNodes(element: HTMLElement) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  private setTouchHandlers(elm, content) {\n    const hammer = new Hammer(elm);\n    if (this._pinchZoom) {\n      hammer.get('pinch').set({ enable: true });\n      hammer.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n    }\n    if (this.touchPan) {\n      hammer.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n    }\n    let position = getAbsoluteXY(elm);\n    const original_x = elm.clientWidth;\n    const original_y = elm.clientHeight;\n    const doc_y_scale = original_y / (content.contentHeight - position.y);\n    const doc_y_offset = Math.max(0, original_y - (content.contentHeight - position.y));\n    let max_x = original_x;\n    let max_y = original_y;\n    let min_x = 0;\n    let min_y = 0;\n    let x = 0;\n    let y = 0;\n    let last_x = 0;\n    let last_y = 0;\n    let scale = 1;\n    let base = scale;\n    let adjustDeltaX = 0;\n    let adjustDeltaY = 0;\n    let currentDeltaX = 0;\n    let currentDeltaY = 0;\n    let lastTap: Date = null;\n    let lastPinch: Date = null;\n    hammer.on('pan', onPan);\n    hammer.on('panend', onPanend);\n    hammer.on('pancancel', onPanend);\n    // _swipeGesture.on('swipe', onSwipe)\n    hammer.on('tap', onTap);\n    hammer.on('pinch', onPinch);\n    hammer.on('pinchend', onPinchend);\n    hammer.on('pinchcancel', onPinchend);\n\n\n    function getAbsoluteXY(element) {\n      var viewportElement = document.documentElement;\n      var box = element.getBoundingClientRect();\n      var scrollLeft = viewportElement.scrollLeft;\n      var scrollTop = viewportElement.scrollTop;\n      var x = box.left + scrollLeft;\n      var y = box.top + scrollTop;\n      return { \"x\": x, \"y\": y };\n    }\n\n    function onPan(ev) {\n      if (lastPinch) {\n        console.log(`checking ${lastPinch}`);\n        let now = new Date();\n        if (now.getMilliseconds() - lastPinch.getMilliseconds() < 120) {\n          return;\n        } else {\n          lastPinch = null;\n        }\n      }\n      //console.log(`onPan *${scale} ${ev.deltaX}dx ${ev.deltaY}dy center ${JSON.stringify(ev.center)}`)\n      transform(null, null, ev);\n    }\n    function onPanend(ev) {\n      if (lastPinch) {\n        console.log(`checking ${lastPinch}`);\n        let now = new Date();\n        if (now.getMilliseconds() - lastPinch.getMilliseconds() < 120) {\n          lastPinch = null;\n          return;\n        }\n      }\n      //console.log(`onPanend *${scale} ${ev.deltaX}dx ${ev.deltaY}dy center ${JSON.stringify(ev.center)}`)\n      // remembers previous position to continue panning.\n      last_x = x;\n      last_y = y;\n      adjustDeltaX = currentDeltaX;\n      adjustDeltaY = currentDeltaY;\n    }\n    function onTap(ev) {\n      let now = new Date();\n\n      if (lastTap && (now.getMilliseconds() - lastTap.getMilliseconds() < 300)) {\n        console.log(`absolute top left ${JSON.stringify(position)}`);\n        console.log(`onTap *${scale} absolute center ${JSON.stringify(ev.center)}`);\n        if (scale === 1) {\n          scale = 2.2;\n          base = 2.2;\n          // scale * distance from center\n          var center = { \"x\": ev.center.x - position.x, \"y\": ev.center.y - position.y };\n          console.log(`onTap *${scale} relative center ${JSON.stringify(center)}`);\n          currentDeltaX = satDelta(max_x, scale, (max_x / 2 - center.x) * scale);\n          currentDeltaY = satDelta(max_y, scale, (max_y / 2 - center.y) * scale);\n          console.log(`viewport size ${original_x}, ${original_y}`);\n          console.log(`content size ${elm.clientWidth}, ${elm.clientHeight}`);\n          console.log(`distance from svg center ${(max_x / 2 - center.x)}, ${max_y / 2 - center.y}`);\n          console.log(`scaled distance ${(max_x / 2 - center.x) * scale}, ${(max_y / 2 - center.y) * scale}`);\n        } else {\n          scale = 1;\n          base = 1;\n          currentDeltaX = 0;\n          currentDeltaY = 0;\n          adjustDeltaX = 0;\n          adjustDeltaY = 0;\n        }\n        transform(max_x / 2, max_y / 2);\n        adjustDeltaX = currentDeltaX;\n        adjustDeltaY = currentDeltaY;\n        lastTap = null;\n      } else {\n        lastTap = new Date();\n      }\n    }\n    function onPinch(ev) {\n      console.log(`onPinch *${ev.scale} ${ev.deltaX}dx ${ev.deltaY}dy center ${JSON.stringify(ev.center)}`);\n      scale = base + (ev.scale * scale - scale) / scale;\n      transform();\n    }\n    function onPinchend(ev) {\n      console.log(`onPinchend *${ev.scale} ${ev.deltaX}dx ${ev.deltaY}dy center ${JSON.stringify(ev.center)}`);\n      if (scale > 4) {\n        scale = 4;\n      }\n      if (scale < 1) {\n        scale = 1;\n        scale = 1;\n        base = 1;\n        currentDeltaX = 0;\n        currentDeltaY = 0;\n        //setBounds();\n        transform(max_x / 2, max_y / 2);\n      }\n      // lets pinch know where the new base will start\n      base = scale;\n      transform();\n      lastPinch = new Date();\n    }\n    var satDelta = function (max, scale, delta) {\n      // max translation from center = (+/-) scaled dimension / 2\n      var maxDelta = max * (scale - 1) / 2; // scaled size - visible pixels\n      var satDelta = delta;\n      satDelta = Math.min(satDelta, maxDelta);\n      satDelta = Math.max(satDelta, -maxDelta);\n      return satDelta;\n    };\n    // xx && yy are for resetting the position when the scale return to 1.\n    function transform(xx?: number, yy?: number, panEv?) {\n      if (panEv && (scale > 1 || doc_y_scale > 1)) {\n        currentDeltaX = adjustDeltaX + panEv.deltaX;\n        currentDeltaY = adjustDeltaY + panEv.deltaY;\n        console.log(`before ${currentDeltaX}px, ${currentDeltaY}px, scale ${scale}`);\n        currentDeltaX = satDelta(max_x, scale, currentDeltaX);\n        if (scale > 1 && doc_y_scale < 1) {\n          currentDeltaY = satDelta(max_y, scale, currentDeltaY);\n        } else {\n          const y_offset = doc_y_offset / 2;\n          currentDeltaY = satDelta(max_y / doc_y_scale, scale * doc_y_scale, currentDeltaY + y_offset) - y_offset;\n        }\n        currentDeltaY = satDelta(max_y, scale, currentDeltaY);\n      }\n      //console.log(`translate ${currentDeltaX}px, ${currentDeltaY}px, scale ${scale}`)\n      elm.style.webkitTransform = `translate3d(${currentDeltaX}px, ${currentDeltaY}px, 0) scale3d(${scale}, ${scale}, 1)`;\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'pdf-viewer',\n  template: `\n      <div class=\"ng2-pdf-viewer-container\"\n           [ngClass]=\"{'ng2-pdf-viewer--zoom': zoom < 1}\"\n           (window:resize)=\"onPageResize()\"\n      ></div>\n  `,\n  styles: [`\n.ng2-pdf-viewer--zoom {\n  overflow-x: scroll;\n}\n\n:host >>> .ng2-pdf-viewer-container .page {\n  background-color: #fff;\n}\n  `]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Content, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'afterLoadComplete': [{ type: Output, args: ['after-load-complete', ] },],\n'onError': [{ type: Output, args: ['error', ] },],\n'onProgress': [{ type: Output, args: ['on-progress', ] },],\n'src': [{ type: Input },],\n'page': [{ type: Input, args: ['page', ] },],\n'pageChange': [{ type: Output },],\n'renderText': [{ type: Input, args: ['render-text', ] },],\n'originalSize': [{ type: Input, args: ['original-size', ] },],\n'showAll': [{ type: Input, args: ['show-all', ] },],\n'zoom': [{ type: Input, args: ['zoom', ] },],\n'rotation': [{ type: Input, args: ['rotation', ] },],\n'pinchZoom': [{ type: Input, args: ['pinchZoom', ] },],\n'touchPan': [{ type: Input, args: ['touchPan', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}